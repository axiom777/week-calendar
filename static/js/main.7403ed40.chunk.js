(this["webpackJsonpweek-calendar"]=this["webpackJsonpweek-calendar"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(9),a=n.n(o),c=(n(14),n(7)),s=n(2),u=n(3),l=n(4),v=n(6),f=n(5),p=(n(15),{startDate:new Date("2021-12-06T00:00:00"),endDate:new Date("2021-12-12T23:59:59"),cellMinuteRange:30,cellHeightPx:25});function m(){for(var e=p.endDate.getTime()-p.startDate.getTime(),t=Math.ceil(e/864e5),n=[],i=new Date(p.startDate),r=0;r<t;r++){for(var o=[],a=new Date(i.getTime()+864e5-1);i.getTime()<a.getTime();){var c=new Date(i);i=new Date(i.getTime()+6e4*p.cellMinuteRange);var s=new Date(i);o.push({timeForm:c,timeTo:s})}n.push(o)}return n}var g=n(0),d=function(e){Object(v.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.timeForm,n=e.timeTo,i=(e.calendrEvents,t.toLocaleString("RU-ru",{hour:"2-digit",minute:"2-digit"})),r=n.toLocaleString("RU-ru",{hour:"2-digit",minute:"2-digit"}),o="".concat(i," - ").concat(r),a={"data-from":new Date(t).toISOString(),"data-to":new Date(n).toISOString()};return Object(g.jsx)("div",Object(s.a)({style:{height:"".concat(p.cellHeightPx,"px")},className:"time",title:o},a))}}]),n}(r.a.Component),h=d,D=[{from:new Date("2021-12-06T11:10:00Z"),to:new Date("2021-12-06T12:10:00Z"),title:"Event 0",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-06T11:11:00Z"),to:new Date("2021-12-06T12:30:00Z"),title:"Event 1",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-06T12:00:00Z"),to:new Date("2021-12-06T15:10:00Z"),title:"Event 2",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-06T15:00:00Z"),to:new Date("2021-12-06T17:30:00Z"),title:"Event 3",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-06T18:20:00Z"),to:new Date("2021-12-06T19:00:00Z"),title:"Event 4",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-07T12:30:00Z"),to:new Date("2021-12-07T15:30:00Z"),title:"Event 5",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"},{from:new Date("2021-12-09T02:30:00Z"),to:new Date("2021-12-09T15:30:00Z"),title:"Event 6",descr:"Event DescriptionEvent DescriptionEvent DescriptionEvent DescriptionEvent Description"}],E=function(e){Object(v.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(u.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).localeDate={hour:"2-digit",minute:"2-digit",year:"numeric",month:"2-digit",day:"2-digit"},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.from,n=e.to,i=e.title,r=e.descr,o=e.position,a=Object(s.a)(Object(s.a)({},o),{},{position:"absolute",backgroundColor:this.getRandomColor(),boxSizing:"border-box",padding:5,overflow:"hidden"});return Object(g.jsxs)("div",{className:"event",style:a,title:"".concat(t.toLocaleString("RU-ru",this.localeDate)," - ").concat(n.toLocaleString("RU-ru",this.localeDate)),children:[i,Object(g.jsx)("p",{style:{filter:"invert(100%)",color:a.backgroundColor},children:r})]})}},{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}}]),n}(r.a.Component),b=function(e){Object(v.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.group.events;console.log(e);var t=this.prepareEventsColumns(e);return t?Object(g.jsx)("div",{children:t.map((function(e){return Object(g.jsx)(E,Object(s.a)({},e))}))}):null}},{key:"prepareEventsColumns",value:function(e){var t,n=this,i=e.sort((function(e,t){return t.to.getTime()-t.from.getTime()-(e.to.getTime()-e.from.getTime())})),r=[],o=Object(c.a)(i);try{for(o.s();!(t=o.n()).done;){var a=t.value,u=a.from,l=a.to,v=!1;0===r.length&&(r.push([a]),v=!0);var f,p=Object(c.a)(r);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(v)break;for(var g=0;g<m.length;g++){var d=m[g],h=d.from,D=d.to,E=0===g,b=g===m.length-1;if(E&&l.getTime()<=h.getTime()){m.unshift(a),v=!0;break}if(b&&u.getTime()>=D.getTime()){m.push(a),v=!0;break}if(!E){var j=m[g-1].to;if(u.getTime()>=j.getTime()&&l.getTime()<=h.getTime()){v=!0,m.splice(g,0,a);break}}}}}catch(w){p.e(w)}finally{p.f()}v||r.push([a])}}catch(w){o.e(w)}finally{o.f()}var T=[],O=r.length;return 0===O?null:(r.forEach((function(e,t){e.forEach((function(e){var i=e.from,r=e.to,o=n.createPosition({from:i,to:r,columnsTotal:O,column:t});o&&T.push(Object(s.a)(Object(s.a)({},e),{},{position:o}))}))})),T)}},{key:"createPosition",value:function(e){var t=this.props.weekRef,n=e.from,i=e.to,r=e.column,o=e.columnsTotal,a=t.current;if(null!==a){var c=new Date(n),s=new Date(i),u=0,l=0;n.getMinutes()<30?(u=n.getMinutes(),c.setMinutes(0)):(u=n.getMinutes()-30,c.setMinutes(30)),i.getMinutes()>0&&i.getMinutes()<30?(l=i.getMinutes(),s.setMinutes(30)):i.getMinutes()>30&&(l=i.getMinutes()-30,s.setMinutes(30),s.setHours(s.getHours()+1));var v=a.querySelector('div[data-from="'.concat(c.toISOString(),'"]')),f=a.querySelector('div[data-to="'.concat(s.toISOString(),'"]'));if(v instanceof HTMLElement&&f instanceof HTMLElement){var p=f.clientHeight,m=p/30,g=u*m,d=l*m,h=v.offsetTop,D=f.offsetTop+p,E=v.clientWidth/o;return{top:h+g+1,left:v.offsetLeft+E*r+1,height:D-h-g-d,width:E}}}}}]),n}(r.a.Component),j=b,T=function(e){Object(v.a)(n,e);var t=Object(f.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).weekRef=r.a.createRef(),i.state={calendar:m(),mounted:!1},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.state.calendar;return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("div",{className:"weekCalendar",ref:this.weekRef,children:[t.map((function(e,t){return Object(g.jsx)("div",{className:"day",children:e.map((function(e,t){return Object(g.jsx)(h,Object(s.a)({},e),"".concat(t,"+cell"))}))},"".concat(t,"Day"))})),this.state.mounted&&this.groupEvents().map((function(t,n){return Object(g.jsx)(j,{group:t,weekRef:e.weekRef},n)}))]})})}},{key:"groupEvents",value:function(){var e,t=D.sort((function(e,t){return e.from.getTime()-t.from.getTime()})),n=[],i=Object(c.a)(t);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=r.from,a=r.to,s=0===n.length;if(s&&n.push({dates:[o,a],events:[r]}),!s){var u=n[n.length-1],l=u.dates[1];o.getTime()<l.getTime()?(u.dates[1]=new Date(Math.max(l.getTime(),a.getTime())),u.events.push(r)):n.push({dates:[o,a],events:[r]})}}}catch(v){i.e(v)}finally{i.f()}return n}}]),n}(r.a.Component),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))};a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root")),O()}},[[17,1,2]]]);
//# sourceMappingURL=main.7403ed40.chunk.js.map